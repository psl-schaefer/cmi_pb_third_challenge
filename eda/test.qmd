
Difference between harmonized and raw data for PBMC cell frequency data

```{r}
# source("../src/read_data.R")
# 
# input_dir <- "../data"
# 
# meta_df <- read_harmonized_meta_data(input_dir)
# 
# raw_data <- read_raw_experimental_data(input_dir)
# harm_data <- read_harmonized_experimental_data(input_dir)
# 
# celltype_meta <- read_celltype_meta(input_dir)
# 
# raw_data$pbmc_cell_frequency %>%
#   dplyr::left_join(meta_df, by="specimen_id") %>%
#   tidyr::drop_na() %>%
#   dplyr::select(dataset, cell_type_name) %>%
#   dplyr::distinct() %>%
#   dplyr::left_join(celltype_meta, by=c("cell_type_name", "dataset")) %>%
#   View()
# 
# raw_data$pbmc_cell_frequency %>%
#   dplyr::left_join(meta_df, by="specimen_id") %>%
#   tidyr::drop_na() %>%
#   dplyr::filter(cell_type_name == "CD45+")
# 
# raw_data$pbmc_cell_frequency %>%
#   dplyr::left_join(meta_df, by="specimen_id") %>%
#   tidyr::drop_na() %>%
#   dplyr::filter(dataset == "2023_dataset") %>%
#   dplyr::arrange(desc(percent_live_cell)) %>%
#   dplyr::left_join(celltype_meta, by=c("cell_type_name", "dataset")) %>%
#   View()
# 
# df_1 <- raw_data$pbmc_cell_frequency %>%
#   dplyr::select(cell_type_name) %>%
#   dplyr::distinct() %>%
#   dplyr::mutate(
#     in_harm_data = cell_type_name %in% harm_data$pbmc_cell_frequency$cell_type_name
#     ) %>%
#   dplyr::arrange(in_harm_data)
# 
# View(df_1)
# 
# View(celltype_meta)
```

